{"version":3,"sources":["components/AddContact.js","components/Contact.js","components/Notification.js","components/Search.js","services/contacts.js","App.js","index.js"],"names":["AddContact","addContact","handleNameChange","handleNumChange","newName","newNumber","onSubmit","value","onChange","type","Contact","person","handleDelete","name","number","onClick","id","Notification","message","className","style","includes","border","Search","filterInput","handleFilterChange","baseUrl","contactService","getAll","axios","get","then","res","data","create","newObject","post","update","put","deleteContact","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setFilterInput","confirmationMessage","setConfirmationMessage","find","window","confirm","_","filter","catch","err","setTimeout","console","log","contactsToShow","toLowerCase","useEffect","initialContacts","e","target","preventDefault","personObject","some","alert","alreadyAddedContact","returnedContact","map","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.07297294.chunk.js","sourcesContent":["const AddContact = ({\n  addContact,\n  handleNameChange,\n  handleNumChange,\n  newName,\n  newNumber,\n}) => {\n  return (\n    <form onSubmit={addContact}>\n      <label>\n        name: <input value={newName} onChange={handleNameChange} />\n      </label>\n      <label>\n        number: <input value={newNumber} onChange={handleNumChange} />\n      </label>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default AddContact;\n","const Contact = ({ person, handleDelete }) => {\n  return (\n    <p>\n      {person.name} {person.number}{' '}\n      <button onClick={() => handleDelete(person.id)}>Delete</button>\n    </p>\n  );\n};\n\nexport default Contact;\n","const Notification = ({ message }) => {\n  const notifStyle = {\n    border: '.2rem solid green',\n  };\n\n  const errorStyle = {\n    border: '.2rem solid red',\n  };\n  return message ? (\n    <div\n      className=\"notification\"\n      style={message.includes('error') ? errorStyle : notifStyle}\n    >\n      {message}\n    </div>\n  ) : null;\n};\n\nexport default Notification;\n","const Search = ({ filterInput, handleFilterChange }) => {\n  return (\n    <label>\n      filter shown with{' '}\n      <input value={filterInput} onChange={handleFilterChange} />\n    </label>\n  );\n};\n\nexport default Search;\n","import axios from 'axios';\n\nconst baseUrl = 'https://floating-caverns-28364.herokuapp.com/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(res => res.data);\n};\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(res => res.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(res => res.data);\n};\n\nconst deleteContact = id => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then(res => res.data);\n};\n\nconst contactService = {\n  getAll,\n  create,\n  update,\n  deleteContact,\n};\n\nexport default contactService;\n","import React, { useEffect, useState } from 'react';\nimport AddContact from './components/AddContact';\nimport Contact from './components/Contact';\nimport Notification from './components/Notification';\nimport Search from './components/Search';\nimport contactService from './services/contacts';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filterInput, setFilterInput] = useState('');\n  const [confirmationMessage, setConfirmationMessage] = useState('');\n\n  const handleNameChange = e => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumChange = e => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleFilterChage = e => {\n    setFilterInput(e.target.value);\n  };\n\n  const addContact = e => {\n    e.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n    const alreadyAdded = persons.some(\n      person => person.name === personObject.name\n    );\n    if (alreadyAdded) {\n      alert(\n        `${personObject.name} is already added to phonebook, replace the old number with the new one?`\n      );\n      const alreadyAddedContact = persons.find(\n        person => person.name === personObject.name\n      );\n      contactService\n        .update(alreadyAddedContact.id, personObject)\n        .then(returnedContact => {\n          setPersons(\n            persons.map(person =>\n              person.id !== alreadyAddedContact.id ? person : returnedContact\n            )\n          );\n          setConfirmationMessage(\n            `${personObject.name}'s number was change to ${personObject.number}.`\n          );\n          setTimeout(() => setConfirmationMessage(null), 5000);\n        })\n        .catch(err => {\n          setConfirmationMessage(\n            `An error has occured, the contact details of ${personObject.name} have already been removed from the server`\n          );\n          setTimeout(() => setConfirmationMessage(null), 5000);\n        });\n      setNewName('');\n      setNewNumber('');\n      return;\n    }\n    contactService\n      .create(personObject)\n      .then(returnedContact => {\n        setPersons(persons.concat(returnedContact));\n        setConfirmationMessage(\n          `${personObject.name} was added to the contacts list.`\n        );\n        setTimeout(() => setConfirmationMessage(null), 5000);\n        setNewName('');\n        setNewNumber('');\n      })\n      .catch(err => {\n        setConfirmationMessage(\n          `An error has occured, the contact details of ${personObject.name} have already been removed from the server`\n        );\n        setTimeout(() => setConfirmationMessage(null), 5000);\n      });\n  };\n\n  const handleDelete = id => {\n    const person = persons.find(person => person.id === id);\n    const confirmation = window.confirm(\n      `Are you sure you want to delete ${person.name}`\n    );\n    if (confirmation) {\n      contactService\n        .deleteContact(id)\n        .then(_ => {\n          setPersons(persons.filter(person => person.id !== id));\n        })\n        .catch(err => {\n          setConfirmationMessage(\n            `An error has occured, the contact details of ${person.name} have already been removed from the server`\n          );\n          setTimeout(() => setConfirmationMessage(null), 5000);\n        });\n    }\n\n    console.log('clicking', id);\n  };\n\n  const contactsToShow = persons.filter(person =>\n    person.name.toLowerCase().includes(filterInput.toLowerCase())\n  );\n\n  useEffect(() => {\n    contactService\n      .getAll()\n      .then(initialContacts => setPersons(initialContacts));\n  }, []);\n\n  return (\n    <div>\n      <Notification message={confirmationMessage} />\n      <h2>Phonebook</h2>\n      <Search value={filterInput} handleFilterChange={handleFilterChage} />\n\n      <h2>Add a new contact</h2>\n      <AddContact\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumChange={handleNumChange}\n        addContact={addContact}\n      />\n\n      <h2>Numbers</h2>\n      {contactsToShow.map(person => (\n        <Contact key={person.id} person={person} handleDelete={handleDelete} />\n      ))}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}